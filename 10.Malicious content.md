# 10. ì•…ì„± ì½˜í…ì¸  (Malicious Content) & íŒŒì¼ ì—…ë¡œë“œ ì·¨ì•½ì 

## 1. ê°œìš” (Overview)
- **ì •ì˜**: ê³µê²©ìžê°€ ì›¹ ì‚¬ì´íŠ¸ì˜ íŒŒì¼ ì—…ë¡œë“œ ê¸°ëŠ¥ì„ ì•…ìš©í•˜ì—¬, **ì‹¤í–‰ ê°€ëŠ¥í•œ ì•…ì„± íŒŒì¼(JSP, PHP, ASP, EXE ë“±)**ì„ ì„œë²„ì— ì—…ë¡œë“œí•˜ê³  ì‹¤í–‰ì‹œí‚¤ëŠ” ì·¨ì•½ì .
- **ìœ„í—˜ë„**: **ìµœìƒ (Critical)** / ì‹œìŠ¤í…œ ìž¥ì•… (RCE)
- **ì˜í–¥**:
    - **ì›¹ì‰˜(Webshell) ì‹¤í–‰**: ì›¹ ë¸Œë¼ìš°ì €ë¥¼ í†µí•´ ì„œë²„ ëª…ë ¹ì–´ë¥¼ ë§ˆìŒëŒ€ë¡œ ì‹¤í–‰.
    - **ì•…ì„±ì½”ë“œ ìœ í¬ì§€ ì•…ìš©**: ì ‘ì†í•œ ì¼ë°˜ ì‚¬ìš©ìžì—ê²Œ ëžœì„¬ì›¨ì–´ ë“± ê°ì—¼.
    - **Defacement**: í™ˆíŽ˜ì´ì§€ í™”ë©´ ë³€ì¡°.

> **ðŸ’¡ í•µì‹¬ ì›ë¦¬**
>
> ì„œë²„ëŠ” ì‚¬ìš©ìžê°€ ì˜¬ë¦° íŒŒì¼ì„ 'ê·¸ë¦¼'ì´ë¼ê³  ë¯¿ê³  ì‹¶ì§€ë§Œ, í•´ì»¤ëŠ” 'í”„ë¡œê·¸ëž¨(JSP)'ì„ ì˜¬ë ¤ì„œ ì‹¤í–‰ì‹œí‚¨ë‹¤.

---

## 2. ê³µê²© ë©”ì»¤ë‹ˆì¦˜ (Attack Vector)



### ì‹œë‚˜ë¦¬ì˜¤: ê²Œì‹œíŒ ì´ë¯¸ì§€ ì—…ë¡œë“œ
ì‚¬ìš©ìž í”„ë¡œí•„ ì‚¬ì§„ì„ ì˜¬ë¦¬ëŠ” ê¸°ëŠ¥ì´ ìžˆë‹¤ê³  ê°€ì •.

**1. ê³µê²© íŒŒì¼ ì¤€ë¹„ (Webshell)**
- í•´ì»¤ëŠ” `hack.jsp`ë¼ëŠ” íŒŒì¼ì„ ë§Œë“¦.
- ë‚´ìš©: `Runtime.getRuntime().exec(request.getParameter("cmd"));` (ëª…ë ¹ì–´ ì‹¤í–‰ ì½”ë“œ)

**2. ì—…ë¡œë“œ (Upload)**
- í•´ì»¤ê°€ í”„ë¡œí•„ ì‚¬ì§„ ëŒ€ì‹  `hack.jsp`ë¥¼ ì—…ë¡œë“œí•¨.
- ì„œë²„ê°€ í™•ìž¥ìž ê²€ì‚¬ë¥¼ ì•ˆ í•´ì„œ ê·¸ëŒ€ë¡œ `/uploads/hack.jsp` ê²½ë¡œì— ì €ìž¥ë¨.

**3. ì‹¤í–‰ (Execute)**
- í•´ì»¤ê°€ ë¸Œë¼ìš°ì € ì£¼ì†Œì°½ì— `http://site.com/uploads/hack.jsp?cmd=ls` ìž…ë ¥.
- ì„œë²„ëŠ” ì´ íŒŒì¼ì„ **JSP í”„ë¡œê·¸ëž¨ìœ¼ë¡œ ì¸ì‹í•˜ê³  ì‹¤í–‰**í•´ë²„ë¦¼.
- **ê²°ê³¼**: ë¸Œë¼ìš°ì € í™”ë©´ì— ì„œë²„ì˜ íŒŒì¼ ëª©ë¡(`ls` ê²°ê³¼)ì´ ì¶œë ¥ë¨. (ê²Œìž„ ë)

---

## 3. ì·¨ì•½í•œ ì½”ë“œ vs ì•ˆì „í•œ ì½”ë“œ (Java)

### âŒ ì·¨ì•½í•œ ì½”ë“œ (ê²€ì¦ ì—†ìŒ)
> íŒŒì¼ì˜ ì´ë¦„ì´ë‚˜ ë‚´ìš©ì„ ì „í˜€ í™•ì¸í•˜ì§€ ì•Šê³  ì €ìž¥í•¨.

```java
// MultipartRequestë¥¼ ì“°ë©´ì„œ ì•„ë¬´ëŸ° ì •ì±…ì´ ì—†ìŒ
MultipartRequest multi = new MultipartRequest(request, savePath, sizeLimit, "utf-8", new DefaultFileRenamePolicy());

// íŒŒì¼ì´ .jspë“  .exeë“  ê·¸ëƒ¥ ì €ìž¥ë¨ -> í•´í‚¹ ì„±ê³µ
File file = multi.getFile("uploadFile");